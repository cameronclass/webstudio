$(document).ready((function(){$("#page-preloader").fadeOut(1e3),$(window).scroll((function(){$(window).scrollTop()>=10?$("header").addClass("header__active"):$("header").removeClass("header__active")})),$(".input").focus((function(){$(this).parent().find("label").addClass("is-active")})),$(".input").focusout((function(){""===$(this).val()&&$(this).parent().find("label").removeClass("is-active")})),$(".js-menu-open").click((function(){$(this).addClass("js-menu-opened"),$(".header").addClass("header__active"),$("body").toggleClass("lock"),$(".hamburger_menu").toggleClass("hamburger_menu_active"),$(".header-mobile").toggleClass("header-mobile-opened")})),$(".js-menu-opened").click((function(){$(this).removeClass("js-menu-opened"),$(".header").removeClass("header__active")})),$(".accordion__header").click((function(){$(".accordion__body").not($(this).next()).slideUp(400),$(this).next().slideToggle(400),$(".accordion__item").not($(this).closest(".accordion__item")).removeClass("open-accordion"),$(this).closest(".accordion__item").toggleClass("open-accordion")})),$(".first-section .btn").click((function(){$("html, body").animate({scrollTop:$(".form-section").offset().top},2e3)})),AOS.init({once:!0,anchorPlacement:"bottom-bottom",duration:800}),onElementHeightChange(document.body,(function(){AOS.refresh()}))})),document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll("form");document.querySelectorAll(".upload-file__input").forEach((function(e){let t,n=document.querySelector(".upload-file__text");e.addEventListener("change",(function(n){t=[];for(let n=0;n<e.files.length;n++)t.push(e.files[n]);t.forEach(e=>{i(e)})}));const i=e=>{e.size>5242880?alert("Файл должен быть не более 5 МБ."):e&&e.length>1?(e.length<=4&&(n.textContent=`Выбрано ${e.length} файла`),e.length>4&&(n.textContent=`Выбрано ${e.length} файлов`)):n.textContent=e.name}}))});var TxtType=function(e,t,n){this.toRotate=t,this.el=e,this.loopNum=0,this.period=parseInt(n,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1};TxtType.prototype.tick=function(){var e=this.loopNum%this.toRotate.length,t=this.toRotate[e];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var n=this,i=200-100*Math.random();this.isDeleting&&(i/=2),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,i=500):(i=this.period,this.isDeleting=!0),setTimeout((function(){n.tick()}),i)},window.onload=function(){for(var e=document.getElementsByClassName("typewrite"),t=0;t<e.length;t++){var n=e[t].getAttribute("data-type"),i=e[t].getAttribute("data-period");n&&new TxtType(e[t],JSON.parse(n),i)}var o=document.createElement("style");o.type="text/css",o.innerHTML=".typewrite > .wrap { border-right: 0.08em solid #fff}",document.body.appendChild(o)};var galleryThumbs=new Swiper(".office .gallery-thumbs",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0}),galleryTop=new Swiper(".office .gallery-top",{spaceBetween:10,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},thumbs:{swiper:galleryThumbs}});new Swiper(".reviews .swiper-container",{loop:!0,navigation:{nextEl:".reviews .swiper-button-next",prevEl:".reviews .swiper-button-prev"},autoplay:{delay:5e3,disableOnInteraction:!0}}),$(document).ready((function(){$("#form-result-mail").submit((function(e){e.preventDefault();const t=$(document).find("#email-response"),n=new FormData,i=$(this),o=$(this).attr("method"),s=$(this).attr("action"),a=i.find("input[name=email]").val().trim(),l=i.find("input[name=phone]").val().trim(),r=i.find("textarea[name=content]").val().trim(),d=i.find("input[name=name]").val().trim();if(d.length>0&&a.length>0&&l.length>0&&r.length>0){n.append("name",d),n.append("email",a),n.append("phone",l),n.append("content",r);let e=i.find("#upload-file__input_1");if(e){const t=e[0].files;if(t.length>0)for(let e=0;e<t.length;e++)n.append("file[]",t[e])}t.text(""),$.ajax({url:s,type:o.toUpperCase(),contentType:!1,data:n,processData:!1,async:!0,cache:!1}).done((function(e){const n=JSON.parse(e);t.length||i.find("[data-response]").after().append(`<div id="email-response">${n.status}</div>`),t.text(n.status)})).fail((function(e){console.error(e)}))}else t.length||i.find("[data-response]").after().append('<div id="email-response">Пожалуйста заполните все поля</div>')}))}));